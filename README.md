# üìä –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã-24 ‚Äî Rustprofile Monitor  

> –õ—ë–≥–∫–∏–π Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à–∏—Ö –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ Rusprofile / bo.nalog.ru,  
> —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (–±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ, –∞—Ä–±–∏—Ç—Ä–∞–∂, —Å–º–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ ‚Ä¶), –ø–∏—à–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CSV-–ª–æ–≥  
> –∏, –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏, —à–ª—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Telegram / e-mail ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

![Python](https://img.shields.io/badge/Python-3.9%2B-blue?logo=python)
![License](https://img.shields.io/badge/License-MIT-green)

---

## üöÄ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

* –°–Ω–∏–º–∞–µ—Ç —Ä—É—Ç–∏–Ω—É due-diligence: —ç–∫–æ–Ω–æ–º–∏—Ç 10‚Äì15 –º–∏–Ω—É—Ç –Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞.  
* –°–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫: —É–∑–Ω–∞—ë—Ç–µ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ / –∫—Ä—É–ø–Ω–æ–º –∏—Å–∫–µ –≤ –¥–µ–Ω—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.  
* –§–æ—Ä–º–∏—Ä—É–µ—Ç –¥–∞—Ç–∞—Å–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚ûú –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º/—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É.  

---

## ‚öôÔ∏è –ß—Ç–æ —É–º–µ–µ—Ç

| üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ö–∞–∫ —Ñ–∏–∫—Å–∏—Ä—É–µ–º |
|-------------|----------|--------------|
| –ù–æ–≤—ã–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞ | kad.arbitr / cardData | `last_arbitrazh` |
| –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ / –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è | cardData | `bankrot`, `liquidated` |
| –í—ã—Ä—É—á–∫–∞ / —à—Ç—Ä–∞—Ñ—ã –§–°–°–ü | finance / fssp | `revenue`, `fssp_sum` |
| –°–º–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ | management ‚Üí name | `director` |
| –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–π | founders[] | `founders` |

–ö–∞–∂–¥–æ–µ –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É ¬´–≤—á–µ—Ä–∞¬ª –∏ ¬´—Å–µ–≥–æ–¥–Ω—è¬ª –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `logs/diff_YYYY-MM-DD.csv`.

---

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone https://github.com/–í–ê–®_–õ–û–ì–ò–ù/contragents-monitor.git
cd contragents-monitor

python -m venv venv           # —Å–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª–∫—É
venv/Scripts/activate         # Windows
# source venv/bin/activate    # Linux / macOS

pip install -r requirements.txt
```

1. –°–æ–∑–¥–∞–π—Ç–µ Google-—Ç–∞–±–ª–∏—Ü—É üìÑ  
   *A1* ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ ¬´INN¬ª, –¥–∞–ª—å—à–µ –≤ –∫–æ–ª–æ–Ω–∫–µ —Å–ø–∏—Å–æ–∫ –ò–ù–ù.

2. C–¥–µ–ª–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å-–∞–∫–∫–∞—É–Ω—Ç –≤ Google Cloud ‚Üí —Å–∫–∞—á–∞–π—Ç–µ `service_account.json` ‚Üí  
   –ø–æ–ª–æ–∂–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–¥–∞–π—Ç–µ –µ–º—É –¥–æ—Å—Ç—É–ø *edit* –∫ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python monitor.py
```

–ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–∏—Ç—Å—è –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞, –∞ –≤ `logs/` ‚Äî CSV —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞–π–¥–µ–Ω—ã).  

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
monitor/
‚îú‚îÄ monitor.py      # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ parsers.py      # –∑–∞–±–∏—Ä–∞–µ–º –∏ —É–ø—Ä–æ—â–∞–µ–º cardData
‚îú‚îÄ sheets.py       # —á–∏—Ç–∞–µ–º —Å–ø–∏—Å–æ–∫ –ò–ù–ù –∏–∑ Google Sheet
‚îú‚îÄ storage.py      # SQLite-—Å–Ω–∏–º–∫–∏ + diff + CSV-–ª–æ–≥
‚îú‚îÄ config.py       # –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ / –ø—É—Ç–∏ / —Ç–æ–∫–µ–Ω—ã
‚îú‚îÄ requirements.txt
‚îî‚îÄ logs/           # —Å—é–¥–∞ –∫–∏–¥–∞—é—Ç—Å—è diff_*.csv
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.py`)

```python
SHEET_NAME      = "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã"     # –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
WORKSHEET_NAME  = "–õ–∏—Å—Ç1"           # –ª–∏—Å—Ç c –ò–ù–ù
RUSPROFILE_URL  = "https://www.rusprofile.ru/ajax.php?uid={inn}&method=card"
DB_PATH         = "snapshot.db"     # SQLite-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ
```

–í—Å–µ ¬´—Å–µ–∫—Ä–µ—Ç—ã¬ª (—Ç–æ–∫–µ–Ω—ã, chat-id) –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã, —á—Ç–æ–±—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –∏—Ö.

---

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

### a) Windows Task Scheduler  
```
Program/script:  <–ø—É—Ç—å –∫ python.exe>
Arguments:       monitor.py
Trigger:         Daily at 07:00
```

### b) Cron (Linux)
```cron
0 7 * * * /home/user/monitor/venv/bin/python /home/user/monitor/monitor.py
```

### c) GitHub Actions ‚Äî 100 % –≤ –æ–±–ª–∞–∫–µ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

`.github/workflows/monitor.yml`
```yaml
name: Daily monitor
on:
  schedule: [ { cron: "0 4 * * *" } ]   # UTC ‚Üí 07:00 –ú–°–ö
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with: { python-version: "3.11" }
      - run: pip install -r requirements.txt
      - run: python monitor.py
```

---

## üìà –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
2025-08-14 07:01 ‚Äî —Å—Ç–∞—Ä—Ç, 27 –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
 ‚Ä¢ –û–û–û ¬´–†–æ–º–∞—à–∫–∞¬ª (7703123456): 2 –∏–∑–º.
 ‚Ä¢ –ò–ü –°–∏–¥–æ—Ä–æ–≤ (7726999999):    1 –∏–∑–º.
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 3 –∏–∑–º–µ–Ω–µ–Ω–∏–π (diff_2025-08-14.csv)
```

`diff_2025-08-14.csv`

| dt | inn | field | old | new |
|----|-----|-------|-----|-----|
| 2025-08-14 07:01 | 7703123456 | last_arbitrazh | 2024-06-01 | 2025-08-13 |
| 2025-08-14 07:01 | 7703123456 | fssp_sum       | 0          | 250 000 |
| 2025-08-14 07:01 | 7726999999 | director       | –ò–≤–∞–Ω–æ–≤ –ò.–ò. | –ü–µ—Ç—Ä–æ–≤ –ü.–ü. |

---

